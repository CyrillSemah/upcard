<div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto;">
  <div style="text-align: center; margin-bottom: 30px;">
    <% if @card.cover_image.attached? %>
      <%= image_tag ImageTransformerService.card_thumbnail(@card.cover_image_url), alt: @card.title, style: 'max-width: 100%; height: auto;' %>
    <% end %>
  </div>

  <h1 style="color: #2C3E50; text-align: center;"><%= @user.full_name %> invites you!</h1>
  
  <div style="text-align: center; margin: 30px 0;">
    <h2 style="color: #34495E;"><%= @card.title %></h2>
    <p style="font-size: 18px;">
      <%= l @card.event_date, format: :long %>
      <% if @card.event_time.present? %>
        at <%= l @card.event_time, format: :short %>
      <% end %>
    </p>
    
    <% if @card.location.present? %>
      <p style="color: #7F8C8D;"><%= @card.location %></p>
    <% end %>
  </div>

  <div style="text-align: center; margin: 40px 0;">
    <%= link_to 'View Invitation & Respond', @invitation_url, 
        style: 'background-color: #3498DB; color: white; padding: 12px 25px; text-decoration: none; border-radius: 5px;' %>
  </div>

  <% if @card.description.present? %>
    <div style="margin: 30px 0; padding: 20px; background-color: #F8F9F9; border-radius: 5px;">
      <p><%= simple_format @card.description %></p>
    </div>
  <% end %>
  
  <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid #BDC3C7; font-size: 12px; color: #7F8C8D;">
    <p>This invitation was sent to <%= @invitation.email %>. If you think this was sent by mistake, please ignore this email.</p>
  </div>
</div>
